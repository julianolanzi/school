{% extends "layout.njk" %}

{% block content %}

        <div class="container" >
                <section class="avatar" style="background: url({{student.avatar_url}}) no-repeat center center / cover "></section>

                <section class="infos">
                        <form action="/students?_method=PUT"  method="POST">

                                <h3>Edit Student</h3>

                                {% include 'students/fields.njk' %}

                                <input type="hidden" name="id" value="{{ student.id }}">

                        </form>

                        <form id="form-delete" action="/students?_method=DELETE"method="POST">
                                <input type="hidden" name="id" value="{{ student.id }}">

                                <button type="submit"> <i class="fas fa-trash-alt"></i> Deletar</button>
                        </form>

                </section>

        </div>
        <script>
                const formDelete = document.querySelector("#form-delete")
                formDelete.addEventListener("submit", function (event) {
                        const confirmation = confirm("Deseja Deletar")

                        if (!confirmation) {
                                event.preventDefault()
                        }
                })
        </script>
{% endblock content %}